(()=>{"use strict";var e,r,t,n,o={48:(e,r,t)=>{t.d(r,{Ep:()=>l,yc:()=>s});var n=t(592),o=t(664);async function s(){if(!o.existsSync("data/create_holograms/assets/fonts"))return void console.error("Failed to find font assets. Make sure you properly setup filter!");const e=await n.loadFont(i("white_minecraft")),r=await n.loadFont(i("white_minecraft_bold")),t=await n.loadFont(i("white_minecraft_italic")),s=await n.loadFont(i("white_minecraft_bold_italic"));return new a(e,r,s,t)}function i(e){return`data/create_holograms/assets/fonts/${e}/font.fnt`}class a{regular;bold;boldItalic;italic;constructor(e,r,t,n){this.regular=e,this.bold=r,this.boldItalic=t,this.italic=n}}function l(e,r,t){return r&&!t?e.bold:r&&t?e.boldItalic:!r&&t?e.italic:e.regular}},740:(e,r,t)=>{t.a(e,(async(e,r)=>{try{var n=t(592),o=t(48),s=t(664),i=t(968),a=void 0;async function l(){const e=await(0,o.yc)();if(!s.existsSync("data/create_holograms/assets"))return void console.error("Asset directory was not create. You must copy the asset directory from sample over to use this filter!");s.existsSync("data/create_holograms/holograms.lang")||j("data/create_holograms/holograms.lang",Buffer.from("","utf-8")),s.existsSync("../../create_holograms/cache.json")||j("../../create_holograms/cache.json",Buffer.from(JSON.stringify({},null,4),"utf-8")),a=JSON.parse(s.readFileSync("../../create_holograms/cache.json","utf-8"));const r=s.readFileSync("data/create_holograms/holograms.lang","utf-8").split("\n");y(),_(),v(),S();for(var t=0;t<r.length;t++){if("#"===r[t][0]||!r[t].includes("="))continue;const o=r[t];var n=o.substring(0,o.indexOf("=")),i=void 0;n.includes("<")&&n.includes(">")&&(i=n.substring(n.indexOf("<")+1,n.indexOf(">")),n=n.substring(0,n.indexOf("<")));const l=o.substring(o.indexOf("=")+1,o.length);s.existsSync("RP/"+l.replace(/\r/g,""))?await u(n,0,l,a[n]):await c(n,i,l,!0,e,a[n])}j("../../create_holograms/cache.json",JSON.stringify(a,null,4))}async function c(e,r,t,n,o,l){if(void 0===l&&(l={text:void 0,variant:void 0,texture:void 0}),void 0===n||void 0===t)return;const c=t.split("\\n");for(let e=0;e<c.length;e++){const r=c[e];c[e]="§f"+r.replace("&","§")}let u="";c.forEach((e=>{e.split("§").forEach((e=>{u+=e.substring(1)})),u+="_"})),u=u.slice(0,-1);const p=`${u?.replace(/(?:\r\n|\r|\n| )/g,"_").replace("/","").toLocaleLowerCase()}`.replace(/\W/g,"");void 0===e&&(e=p);const h="RP/textures/entity/hologram/"+e.substring(e.indexOf(":")+1,e.length)+".png",F=g(c,o)+10,m=d(c,o)+10;void 0===l.texture||void 0!==l.text&&l.text.replace(/Â/g,"")!==t?f(F,m,n,c,e,h,o):j(h,Buffer.from(l.texture,"base64"));var x=void 0===l.variant?(0,i.randomInt)(999999)+1:l.variant;l.variant=x;{const t=s.readFileSync("BP/entities/hologram.bpe.json","utf-8"),n=JSON.parse(t);n["minecraft:entity"].component_groups[e]=w(x),n["minecraft:entity"].events[e]=A(e,r),j("BP/entities/hologram.bpe.json",Buffer.from(JSON.stringify(n,null,4).replace(/\n/g,"\r\n"),"utf-8"))}{const r=s.readFileSync("RP/entity/hologram.rpe.json","utf-8"),t=JSON.parse(r);t["minecraft:client_entity"].description.textures[e.substring(e.indexOf(":")+1,e.length)]="textures/entity/hologram/"+e.substring(e.indexOf(":")+1,e.length),t["minecraft:client_entity"].description.geometry[e.substring(e.indexOf(":")+1,e.length)]="geometry.hologram."+e.substring(e.indexOf(":")+1,e.length),t["minecraft:client_entity"].description.render_controllers.push({[`controller.render.hologram.${e.substring(e.indexOf(":")+1,e.length)}`]:"query.variant == "+x}),j("RP/entity/hologram.rpe.json",Buffer.from(JSON.stringify(t,null,4).replace(/\n/g,"\r\n"),"utf-8"))}{const r=s.readFileSync("RP/render_controllers/hologram.render.json","utf-8"),t=JSON.parse(r);t.render_controllers["controller.render.hologram."+e.substring(e.indexOf(":")+1,e.length)]=O(e.substring(e.indexOf(":")+1,e.length)),j("RP/render_controllers/hologram.render.json",Buffer.from(JSON.stringify(t,null,4).replace(/\n/g,"\r\n"),"utf-8"))}b(e,F,m),l.text=t,a[e]=l}async function u(e,r,t,o){void 0===o&&(o={text:void 0,variant:void 0,texture:void 0});const l="RP/"+t.replace(/\r/g,"");var c=await n.read(l);s.existsSync("BP/entities/hologram.bpe.json")||(y(),_(),v(),S());var u=void 0===o||void 0===o.variant?(0,i.randomInt)(999999)+1:o.variant;o.variant=u;{const r=s.readFileSync("BP/entities/hologram.bpe.json","utf-8"),t=JSON.parse(r);t["minecraft:entity"].component_groups[e]=w(u),t["minecraft:entity"].events[e]=A(e,void 0),j("BP/entities/hologram.bpe.json",Buffer.from(JSON.stringify(t,null,4).replace(/\n/g,"\r\n"),"utf-8"))}{const r=s.readFileSync("RP/entity/hologram.rpe.json","utf-8"),n=JSON.parse(r);n["minecraft:client_entity"].description.textures[e.substring(e.indexOf(":")+1,e.length)]=t.replace(/\\/g,"/").replace(/\r/g,"").replace(".png",""),n["minecraft:client_entity"].description.geometry[e.substring(e.indexOf(":")+1,e.length)]="geometry.hologram."+e.substring(e.indexOf(":")+1,e.length),n["minecraft:client_entity"].description.render_controllers.push({[`controller.render.hologram.${e.substring(e.indexOf(":")+1,e.length)}`]:"query.variant == "+u}),j("RP/entity/hologram.rpe.json",Buffer.from(JSON.stringify(n,null,4).replace(/\n/g,"\r\n"),"utf-8"))}{const r=s.readFileSync("RP/render_controllers/hologram.render.json","utf-8"),t=JSON.parse(r);t.render_controllers["controller.render.hologram."+e.substring(e.indexOf(":")+1,e.length)]=O(e.substring(e.indexOf(":")+1,e.length)),j("RP/render_controllers/hologram.render.json",Buffer.from(JSON.stringify(t,null,4).replace(/\n/g,"\r\n"),"utf-8"))}b(e,c.getWidth(),c.getHeight()),o.text=t,a[e]=o}function f(e,r,t,s,i,a,l){return new n(e,r,"#000000",((r,c)=>{c.opacity(t?.25:0);let u=0,f=0,g=!1,d=!1,x="f";s.forEach((r=>{u=(e-p(r,l))/2,r?.split("§").forEach((r=>{let t=r.charAt(0).toLocaleLowerCase();const s=r.substring(1);"l"===t?(g=!0,t=x):"o"===t?(d=!0,t=x):"r"===t&&(g=!1,d=!1,t="f"),c.print((0,o.Ep)(l,g,d),u,f,s);const i=F(t);x=t,c.scan(u,f,n.measureText((0,o.Ep)(l,g,d),s+" "),n.measureTextHeight((0,o.Ep)(l,g,d),s,e),((e,r)=>{const t=c.getPixelColor(e,r);4294967295===t?c.setPixelColor(i[0],e,r):2459079321!==t&&t!==parseInt("0x929292ff",16)||c.setPixelColor(i[1],e,r)})),u+=n.measureText((0,o.Ep)(l,g,d),s)})),f+=n.measureTextHeight(l.bold,h(r),9999999)})),m(c,i,a)}))}function g(e,r){let t=0;return e.forEach((e=>{const n=p(e,r);n>=t&&(t=n)})),t}function p(e,r){let t=0,s=!1,i=!1;return e?.split("§").forEach((e=>{const a=e.charAt(0).toLocaleLowerCase(),l=e.substring(1);"l"===a?s=!0:"o"===a?(i=!0,t+=10):"r"===a&&(s=!1,i=!1),t+=n.measureText((0,o.Ep)(r,s,i),l)})),t}function d(e,r){let t=0,s=!1,i=!1;return e.forEach((e=>{let a=0;e?.split("§").forEach((e=>{const t=e.charAt(0).toLocaleLowerCase(),l=e.substring(1);"l"===t?s=!0:"o"===t?i=!0:"r"===t&&(s=!1,i=!1);const c=n.measureTextHeight((0,o.Ep)(r,s,i),l,999999);c>=a&&(a=c)})),t+=a})),t}function h(e){let r="";return e.split("§").forEach((e=>{r+=e.substring(1)})),r}function F(e){switch(e){case"0":return[parseInt("0x000000FF",16),parseInt("0x000000FF",16)];case"1":return[parseInt("0x0000AAFF",16),parseInt("0x00002AFF",16)];case"2":return[parseInt("0x00AA00FF",16),parseInt("0x002A00FF",16)];case"3":return[parseInt("0x00AAAAFF",16),parseInt("0x002A2AFF",16)];case"4":return[parseInt("0xAA0000FF",16),parseInt("0x2A0000FF",16)];case"5":return[parseInt("0xAA00AAFF",16),parseInt("0x2A002AFF",16)];case"6":return[parseInt("0xFFAA00FF",16),parseInt("0x2A2A00FF",16)];case"7":return[parseInt("0xAAAAAAFF",16),parseInt("0x2A2A2AFF",16)];case"8":return[parseInt("0x555555FF",16),parseInt("0x151515FF",16)];case"9":return[parseInt("0x5555FFFF",16),parseInt("0x15153FFF",16)];case"a":return[parseInt("0x55FF55FF",16),parseInt("0x153F15FF",16)];case"b":return[parseInt("0x55FFFFFF",16),parseInt("0x153F3FFF",16)];case"c":return[parseInt("0xFF5555FF",16),parseInt("0x3F1515FF",16)];case"d":return[parseInt("0xFF55FFFF",16),parseInt("0x3F153FFF",16)];case"e":return[parseInt("0xFFFF55FF",16),parseInt("0x3F3F15FF",16)];default:return[parseInt("0xFFFFFFFF",16),parseInt("0x3F3F3FFF",16)]}}function m(e,r,t){x(e=e.scale(.5,n.RESIZE_NEAREST_NEIGHBOR),64,e.getWidth(),e.getHeight()),e.write(t,((e,n)=>{var o=s.readFileSync(t,"base64"),i=a[r];i.texture=o,a[r]=i,j("../../create_holograms/cache.json",Buffer.from(JSON.stringify(a,null,4),"utf-8"))}))}function x(e,r,t,n){const o=r/16;for(let r=0;r<o;r++)for(let t=0;t<o;t++)e.setPixelColor(0,r,t);for(let r=1;r<=o;r++)for(let n=0;n<o;n++)e.setPixelColor(0,t-r,n);for(let r=0;r<o;r++)for(let t=1;t<=o;t++)e.setPixelColor(0,r,n-t);for(let r=1;r<=o;r++)for(let s=1;s<=o;s++)e.setPixelColor(0,t-r,n-s)}function y(){j("BP/entities/hologram.bpe.json",Buffer.from(JSON.stringify(P().bp_entity,null,4).replace(/\n/g,"\r\n"),"utf-8"))}function _(){j("RP/entity/hologram.rpe.json",Buffer.from(JSON.stringify(P().rp_entity,null,4).replace(/\n/g,"\r\n"),"utf-8"))}function v(){j("RP/render_controllers/hologram.render.json",Buffer.from(JSON.stringify({format_version:"1.8.0",render_controllers:{}},null,4).replace(/\n/g,"\r\n"),"utf-8"))}function b(e,r,t){j("RP/models/entity/hologram/"+e.substring(e.indexOf(":")+1,e.length)+".geo.json",Buffer.from(JSON.stringify(I(e.substring(e.indexOf(":")+1,e.length),r,t),null,4).replace(/\n/g,"\r\n"),"utf-8"))}function S(){j("RP/animations/holograms/hologram.animation.json",Buffer.from(JSON.stringify(P().animations,null,4).replace(/\n/g,"\r\n"),"utf-8"))}function O(e){return JSON.parse(JSON.stringify(P().render_controller).replace(/\$identifier\$/gi,e))}function I(e,r,t){return{format_version:"1.12.0","minecraft:geometry":[{description:{identifier:"geometry.hologram."+e,texture_width:r,texture_height:t,visible_bounds_width:2,visible_bounds_height:1.5,visible_bounds_offset:[0,.25,0]},bones:[{name:"root",pivot:[0,0,0],cubes:[{origin:[-r/20/2,-t/20/2,0],size:[r/20,t/20,0],uv:{north:{uv:[0,0],uv_size:[r,t]},east:{uv:[0,0],uv_size:[0,t]},south:{uv:[0,0],uv_size:[0,0]},west:{uv:[r,0],uv_size:[0,t]},up:{uv:[r,0],uv_size:[-r,0]},down:{uv:[r,0],uv_size:[-r,0]}}}]}]}]}}function A(e,r){return void 0!==r?{trigger:r,add:{component_groups:[e]}}:{add:{component_groups:[e]}}}function w(e){return{"minecraft:variant":{value:e}}}function P(){return JSON.parse(s.readFileSync("data/create_holograms/assets/template.json","utf-8"))}function j(e,r){let t=e.replace(/\\/g,"/"),n="";"/"===t[0]?(n="/",t=t.slice(1)):":"===t[1]&&(n=t.slice(0,3),t=t.slice(3)),t.split("/").slice(0,-1).reduce(((e,r)=>{const t=e+r+"/";return s.existsSync(t)||s.mkdirSync(t),t}),n),s.writeFileSync(n+t,r)}await l(),r()}catch(N){r(N)}}),1)},664:e=>{e.exports=require("fs")},592:e=>{e.exports=require("jimp")},968:e=>{e.exports=require("crypto")}},s={};function i(e){var r=s[e];if(void 0!==r)return r.exports;var t=s[e]={exports:{}};return o[e](t,t.exports,i),t.exports}e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",r="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",t="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",n=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},i.a=(o,s,i)=>{var a;i&&((a=[]).d=-1);var l,c,u,f=new Set,g=o.exports,p=new Promise(((e,r)=>{u=r,c=e}));p[r]=g,p[e]=e=>(a&&e(a),f.forEach(e),p.catch((e=>{}))),o.exports=p,s((o=>{var s;l=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var s=[];s.d=0,o.then((e=>{i[r]=e,n(s)}),(e=>{i[t]=e,n(s)}));var i={};return i[e]=e=>e(s),i}}var a={};return a[e]=e=>{},a[r]=o,a})))(o);var i=()=>l.map((e=>{if(e[t])throw e[t];return e[r]})),c=new Promise((r=>{(s=()=>r(i)).r=0;var t=e=>e!==a&&!f.has(e)&&(f.add(e),e&&!e.d&&(s.r++,e.push(s)));l.map((r=>r[e](t)))}));return s.r?c:i()}),(e=>(e?u(p[t]=e):c(g),n(a)))),a&&a.d<0&&(a.d=0)},i.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return i.d(r,{a:r}),r},i.d=(e,r)=>{for(var t in r)i.o(r,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},i.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),i(740)})();