(()=>{"use strict";var e={116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SMITHING_TABLE_IMAGE=t.FURNACE_IMAGE=t.RECIPE_GRID_IMAGE=void 0,t.RECIPE_GRID_IMAGE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAIAAAAABMCaAAAAAXNSR0IArs4c6QAAATpJREFUeJzt2sENg0AQBMHDIicIhFAIiyD9uBDc+HGqSmCl1jx3O45jvO+6rjHG8zxL3vr84dLytrnEWfQ9932PMc7zXPKWJQZEDIgYEDEgYkDEgIgBEQMiBkQMiBgQMSBiQMSAiAERAyIGRAyIGBAxIGJAxICIAREDIgZEDIgYEDEgYkDEgIiBfX7wzT+7t616yxIDm5/t329ZYsDPdnDLEgMiBkQMiBgQMSBiQMSAiAERAyIGRAyIGBAxIGJAxICIAREDIgZEDIgYEDEgYkDEgIgBEQMiBkQMiBgQMSBiQMSAn+2AJQb8bAe3LDHgZzu4ZYkBEQMiBkQMiBgQMSBiQMSAiAERAyIGRAyIGBAxIGJAxICIAREDIgZEDIgYEDEgYkDEgIgBEQMiBkQMiBgQMSBiwM92wBIDX/NdR8tv3jpFAAAAAElFTkSuQmCC",t.FURNACE_IMAGE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAAAXNSR0IArs4c6QAAArtJREFUeJzt2z1y2kAYxvGHTA5gagpcmSMshSmTGQoaRzO5A41TQMW4yri3m9whRdykcOELSEcglXIC+wZJwZcE2KCVAL+r/69CK43Y0TP7SlpYCQAAAAAAAAAAAAAAAAAAoBqNt3Y65/4dqyNYiaJI4/F4azY7A7u/uz9Mr/Aq13VqNBpbs/m470muv12X7kgURepd9kqfp872DkyaXfAyRqORkjgpdY66+3DqDqAYAjOGwIwhMGMIzBgCM4bAjCEwYwq9OIemitmbKiwmJPaZBWKEGVPrEbZQdsqtrNFoJEl7TdsxwowhMGMIzBgCM2bvh44oipY3R5zO3oH1Lnv8+PgOBFESXdedugtH4xXY2e1NpcdVoS6heQXWGT5thLFtuzN88u+ZhzqE5hVY0ow3wti2nTRj/555Cj00/5LYb+cb++38KFvfPqKQQ/MuieuS+OfOUXdMoYbmN/nbb0tKJa0e889ub6Rh9qBU6p9LBapi1RfZdV1wryKFR9iyzD3m/0nc+f0nf+B8/6nK4kJoI61wYLMyl2r649OybRZKmruvLfafsixK0sOvh5N+f9WKl8R5KC+T78umWSjnmg4upIky+12hsuh7ca++XL16vlar5XXO98rjHpZKktxzd+2xPdXLZHW/cM9dScVWK1V5cUMMS/IoidPB59mH7GP9+iN+pm06uPDqWBmhhiV5BLYqhenGPtf9mtlK144/jpDDkjwCm5U65Z8SH//OP6SZtkb++CMIPSzJ4x6WNGMpTqTM/WvZtuO4Q6pDWFIgP68kcVKLsKRAAqsT1jgbwxpnYyiJxhCYMQRmDIEZQ2DGEJgxtV4ftnhNsfQXdEaYMbUeYYtZF0sv84wwYwjMGAIzhsCMITBjCMwY1jgbwxpnY94MLIqi4BYTAAAAAAAAAAAAAAAAAAAAAMDh/Qf2PawN/oxzvgAAAABJRU5ErkJggg==",t.SMITHING_TABLE_IMAGE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAACPZlfNAAAAAXNSR0IArs4c6QAAAORJREFUeJzt2kEKwjAQBdAoHkpBb5F76CI3VLCeSheiuHBhqY6d8N6qUOik/WSYQkoBAAAAAAAAAAAAAAAAAAAAAACgV4vIYsN5uEbWi7LerMO+4yqq0MP+sJ/8jFpr2W13XaxjrPDASrm/6BSttXIZLt2sY4xlaDUm+8sO+7Xj6fi8jm5Zv2aHJSOwZASWjMCSST90vA4Yn97PPIjYYckILJn0LfFde/MfxmwILBmBJSOwZNIPHe/0Nmi8Cg+s1lpaa9FlZ7uOsRwR+ILIIwIAAAAAAAAAAAAAAAAAAAAAAAD06waALCj/jvlSlwAAAABJRU5ErkJggg=="},520:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getItemTexture=t.typeIdTextureMap=void 0;const a=r(664),n=r(114),i={...r(440).items},c=(0,a.existsSync)("RP/textures/item_texture.json")?JSON.parse((0,a.readFileSync)("RP/textures/item_texture.json","utf-8")).texture_data:{};if(n.glob.sync("RP/entity/**/*.json").forEach((e=>{const t=JSON.parse((0,a.readFileSync)(e,"utf-8"))??{};if(!("minecraft:client_entity"in t))return;const r=t["minecraft:client_entity"].description;if(!("spawn_egg"in r))return;let n=r.identifier,s=r.spawn_egg.texture,u=r.spawn_egg.texture_index;if(c[s]){const e="RP/"+c[s].textures+".png";let t=(0,a.readFileSync)(e);i[n]={texture:t},console.log("found entity "+n+" with textureIcon "+s+" and index "+u)}})),(0,a.existsSync)("RP/textures/items/")){let e=(0,a.readdirSync)("RP/textures/items/");for(let t=0;t<e.length;t++){let r=e[t],n="minecraft:"+r.replace(".png","");if(i[n]){let e=(0,a.readFileSync)("RP/textures/items/"+r);i[n].texture=e}}}t.typeIdTextureMap=new Map([["minecraft:wool",[i["minecraft:white_wool"].texture,i["minecraft:orange_wool"].texture,i["minecraft:magenta_wool"].texture,i["minecraft:light_blue_wool"].texture,i["minecraft:yellow_wool"].texture,i["minecraft:lime_wool"].texture,i["minecraft:pink_wool"].texture,i["minecraft:gray_wool"].texture,i["minecraft:light_gray_wool"].texture,i["minecraft:cyan_wool"].texture,i["minecraft:purple_wool"].texture,i["minecraft:blue_wool"].texture,i["minecraft:brown_wool"].texture,i["minecraft:green_wool"].texture,i["minecraft:red_wool"].texture,i["minecraft:black_wool"].texture,i["minecraft:white_wool"].texture]],["minecraft:red_flower",[i["minecraft:poppy"].texture,i["minecraft:blue_orchid"].texture,i["minecraft:allium"].texture,i["minecraft:azure_bluet"].texture,i["minecraft:red_tulip"].texture,i["minecraft:orange_tulip"].texture,i["minecraft:white_tulip"].texture,i["minecraft:pink_tulip"].texture,i["minecraft:oxeye_daisy"].texture,i["minecraft:lily_of_the_valley"].texture,i["minecraft:poppy"].texture]],["minecraft:leaves",[i["minecraft:oak_leaves"].texture,i["minecraft:spruce_leaves"].texture,i["minecraft:birch_leaves"].texture,i["minecraft:jungle_leaves"].texture,i["minecraft:oak_leaves"].texture]],["minecraft:leaves2",[i["minecraft:acacia_leaves"].texture,i["minecraft:dark_oak_leaves"].texture,i["minecraft:acacia_leaves"].texture]],["minecraft:stone",[i["minecraft:stone"].texture,i["minecraft:granite"].texture,i["minecraft:polished_granite"].texture,i["minecraft:diorite"].texture,i["minecraft:polished_diorite"].texture,i["minecraft:andesite"].texture,i["minecraft:polished_andesite"].texture,i["minecraft:stone"].texture]],["minecraft:concrete",[i["minecraft:white_concrete"].texture,i["minecraft:orange_concrete"].texture,i["minecraft:magenta_concrete"].texture,i["minecraft:light_blue_concrete"].texture,i["minecraft:yellow_concrete"].texture,i["minecraft:lime_concrete"].texture,i["minecraft:pink_concrete"].texture,i["minecraft:gray_concrete"].texture,i["minecraft:light_gray_concrete"].texture,i["minecraft:cyan_concrete"].texture,i["minecraft:purple_concrete"].texture,i["minecraft:blue_concrete"].texture,i["minecraft:brown_concrete"].texture,i["minecraft:green_concrete"].texture,i["minecraft:red_concrete"].texture,i["minecraft:black_concrete"].texture,i["minecraft:white_concrete"].texture]],["minecraft:dye",[i["minecraft:red_dye"].texture,i["minecraft:orange_dye"].texture,i["minecraft:magenta_dye"].texture,i["minecraft:light_blue_dye"].texture,i["minecraft:yellow_dye"].texture,i["minecraft:lime_dye"].texture,i["minecraft:pink_dye"].texture,i["minecraft:gray_dye"].texture,i["minecraft:light_gray_dye"].texture,i["minecraft:cyan_dye"].texture,i["minecraft:purple_dye"].texture,i["minecraft:blue_dye"].texture,i["minecraft:brown_dye"].texture,i["minecraft:green_dye"].texture,i["minecraft:red_dye"].texture,i["minecraft:black_dye"].texture,i["minecraft:white_dye"].texture]],["minecraft:wooden_slab",[i["minecraft:oak_slab"].texture,i["minecraft:spruce_slab"].texture,i["minecraft:birch_slab"].texture,i["minecraft:jungle_slab"].texture,i["minecraft:acacia_slab"].texture,i["minecraft:dark_oak_slab"].texture,i["minecraft:oak_slab"].texture]],["minecraft:log",[i["minecraft:oak_log"].texture,i["minecraft:spruce_log"].texture,i["minecraft:birch_log"].texture,i["minecraft:jungle_log"].texture,i["minecraft:acacia_log"].texture,i["minecraft:dark_oak_log"].texture,i["minecraft:oak_log"].texture]],["minecraft:sapling",[i["minecraft:oak_sapling"].texture,i["minecraft:spruce_sapling"].texture,i["minecraft:birch_sapling"].texture,i["minecraft:jungle_sapling"].texture,i["minecraft:acacia_sapling"].texture,i["minecraft:dark_oak_sapling"].texture,i["minecraft:oak_sapling"].texture]],["minecraft:planks",[i["minecraft:oak_planks"].texture,i["minecraft:spruce_planks"].texture,i["minecraft:birch_planks"].texture,i["minecraft:jungle_planks"].texture,i["minecraft:acacia_planks"].texture,i["minecraft:dark_oak_planks"].texture,i["minecraft:oak_planks"].texture]],["minecraft:carpet",[i["minecraft:white_carpet"].texture,i["minecraft:orange_carpet"].texture,i["minecraft:magenta_carpet"].texture,i["minecraft:light_blue_carpet"].texture,i["minecraft:yellow_carpet"].texture,i["minecraft:lime_carpet"].texture,i["minecraft:pink_carpet"].texture,i["minecraft:gray_carpet"].texture,i["minecraft:light_gray_carpet"].texture,i["minecraft:cyan_carpet"].texture,i["minecraft:purple_carpet"].texture,i["minecraft:blue_carpet"].texture,i["minecraft:brown_carpet"].texture,i["minecraft:green_carpet"].texture,i["minecraft:red_carpet"].texture,i["minecraft:black_carpet"].texture,i["minecraft:white_carpet"].texture]],["minecraft:wood",[i["minecraft:oak_wood"].texture,i["minecraft:spruce_wood"].texture,i["minecraft:birch_wood"].texture,i["minecraft:jungle_wood"].texture,i["minecraft:acacia_wood"].texture,i["minecraft:dark_oak_wood"].texture,i["minecraft:oak_wood"].texture]],["minecraft:stained_glass",[i["minecraft:white_stained_glass"].texture,i["minecraft:orange_stained_glass"].texture,i["minecraft:magenta_stained_glass"].texture,i["minecraft:light_blue_stained_glass"].texture,i["minecraft:yellow_stained_glass"].texture,i["minecraft:lime_stained_glass"].texture,i["minecraft:pink_stained_glass"].texture,i["minecraft:gray_stained_glass"].texture,i["minecraft:light_gray_stained_glass"].texture,i["minecraft:cyan_stained_glass"].texture,i["minecraft:purple_stained_glass"].texture,i["minecraft:blue_stained_glass"].texture,i["minecraft:brown_stained_glass"].texture,i["minecraft:green_stained_glass"].texture,i["minecraft:red_stained_glass"].texture,i["minecraft:black_stained_glass"].texture,i["minecraft:white_stained_glass"].texture]],["minecraft:stained_glass",[i["minecraft:white_stained_glass_pane"].texture,i["minecraft:orange_stained_glass_pane"].texture,i["minecraft:magenta_stained_glass_pane"].texture,i["minecraft:light_blue_stained_glass_pane"].texture,i["minecraft:yellow_stained_glass_pane"].texture,i["minecraft:lime_stained_glass_pane"].texture,i["minecraft:pink_stained_glass_pane"].texture,i["minecraft:gray_stained_glass_pane"].texture,i["minecraft:light_gray_stained_glass_pane"].texture,i["minecraft:cyan_stained_glass_pane"].texture,i["minecraft:purple_stained_glass_pane"].texture,i["minecraft:blue_stained_glass_pane"].texture,i["minecraft:brown_stained_glass_pane"].texture,i["minecraft:green_stained_glass_pane"].texture,i["minecraft:red_stained_glass_pane"].texture,i["minecraft:black_stained_glass_pane"].texture,i["minecraft:white_stained_glass_pane"].texture]],["minecraft:stone_slab",[i["minecraft:smooth_stone_slab"].texture,i["minecraft:sandstone_slab"].texture,i["minecraft:oak_slab"].texture,i["minecraft:cobblestone_slab"].texture,i["minecraft:brick_slab"].texture,i["minecraft:stone_brick_slab"].texture,i["minecraft:quartz_slab"].texture,i["minecraft:nether_brick_slab"].texture,i["minecraft:smooth_stone_slab"].texture]],["minecraft:skull",[i["minecraft:skeleton_skull"].texture,i["minecraft:wither_skeleton_skull"].texture,i["minecraft:zombie_head"].texture,i["minecraft:player_head"].texture,i["minecraft:creeper_head"].texture,i["minecraft:dragon_head"].texture,i["minecraft:skeleton_skull"].texture]],["minecraft:magma",i["minecraft:magma_block"].texture],["minecraft:wooden_door",i["minecraft:oak_door"].texture],["minecraft:web",i["minecraft:cobweb"].texture],["minecraft:yellow_flower",i["minecraft:dandelion"].texture],["minecraft:brick_block",i["minecraft:bricks"].texture]]),t.getItemTexture=function(e){if(void 0!==e){"string"==typeof e&&(e=function(e){const t=e.split(":");let r="",a=0;return 1===t.length?r=`minecraft:${t[0]}`:2===t.length?isNaN(parseInt(t[1],10))?r=e:(r=`minecraft:${t[0]}`,a=parseInt(t[1],10)):3===t.length&&(r=`${t[0]}:${t[1]}`,a=parseInt(t[2],10)),{item:r,data:a}}(e));let r=e.item.includes(":")?e.item:`minecraft:${e.item}`;if(r.includes("spawn_egg"))return function(e,t){const r=t?t.match("'(.*?)'")[1]:e.replace("_spawn_egg","");if(i[r])return console.log(`found item texture for entity: ${r}`),i[r].texture;console.log(`could not find item texture for entity: ${r}`)}(r,e.data);if(t.typeIdTextureMap.has(r))return function(e,r){const a=t.typeIdTextureMap.get(e);return"string"==typeof a?a:Array.isArray(a)&&void 0!==r?a[Math.max(0,Math.min(a.length-1,r))]:i["minecraft:stone"].texture}(r,e.data);if(i[r])return i[r].texture;const c=function(e){if((0,a.existsSync)("RP/textures/item_texture.json")){let t;if(n.glob.sync("RP/items/**/*.json").forEach((r=>{const n=JSON.parse((0,a.readFileSync)(r,"utf-8"));"minecraft:item"in n&&n["minecraft:item"].description.identifier===e&&(t=n["minecraft:item"].components["minecraft:icon"])})),t){const e=`RP/${JSON.parse((0,a.readFileSync)("RP/textures/item_texture.json","utf-8")).texture_data[t].textures}.png`;if((0,a.existsSync)(e))return`data:image/png;base64,${(0,a.readFileSync)(e).toString("base64")}`}}return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAYAAACp8Z5+AAAAAXNSR0IArs4c6QAAAChJREFUCJltyqENACAMALAORRD8fydimRueUN3IXQ3rTDA8Ag256z8uTGEHATZy6pcAAAAASUVORK5CYII="}(r);return c||i["minecraft:stone"].texture}return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAABJJREFUOI1jYBgFo2AUjAIIAAAEEAABf014jgAAAABJRU5ErkJggg=="}},348:e=>{e.exports=require("canvas")},816:e=>{e.exports=require("comment-json")},664:e=>{e.exports=require("fs")},114:e=>{e.exports=require("glob")},440:e=>{e.exports=require("minecraft-textures/dist/textures/json/1.20.id.json")}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,r),i.exports}(()=>{const e=r(348),t=r(816),a=r(664),n=r(520),i=r(116);function c(e,t){let r=e.replace(/\\/g,"/"),n="";"/"===r[0]?(n="/",r=r.slice(1)):":"===r[1]&&(n=r.slice(0,3),r=r.slice(3)),r.split("/").slice(0,-1).reduce(((e,t)=>{const r=e+t+"/";return(0,a.existsSync)(r)||(0,a.mkdirSync)(r),r}),n),(0,a.writeFileSync)(n+r,t)}!async function(){const r=t.parse((0,a.readFileSync)("data/create_recipe_images/config.json","utf-8")),s=Object.keys(r);console.log("> Creating recipe images!");for(const e of s){console.log("   - "+e);const n=r[e],i=t.parse((0,a.readFileSync)("BP/recipes/"+n.recipe,"utf-8"))??{};"minecraft:recipe_shaped"in i?o(n,i):"minecraft:recipe_furnace"in i?u(n,i):"minecraft:recipe_shapeless"in i&&i["minecraft:recipe_shapeless"].tags.includes("smithing_table")&&m(n,i)}function u(t,r){const a=r["minecraft:recipe_furnace"],s=(0,n.getItemTexture)({item:"minecraft:coal",data:0}),u=new Map;let m=a.input,o=a.output;u.set(m,(0,n.getItemTexture)({item:m,data:0})),u.set(o,(0,n.getItemTexture)({item:o,data:0}));let f=new e.Image;f.src=i.FURNACE_IMAGE;var l=new e.Canvas(f.width,f.height),A=l.getContext("2d");A.drawImage(f,0,0);let _=new e.Image;_.onload=function(){A.imageSmoothingEnabled=!1,A.drawImage(_,11,27,16,16)},_.src=u.get(m);let g=new e.Image;g.onload=function(){A.imageSmoothingEnabled=!1,A.drawImage(g,65,38,32,32)},g.src=u.get(o);let x=new e.Image;x.onload=function(){A.imageSmoothingEnabled=!1,A.drawImage(x,11,63,16,16)},x.src=s;const d=l.toBuffer();t.output.forEach((e=>{e.includes(".png")||(e+=".png"),console.log("   > Writing to: "+e),c(e,d)}))}function m(t,r){const a=r["minecraft:recipe_shapeless"],s=new Map;let u=a.ingredients[0],m=a.ingredients[1];s.set(u.item,(0,n.getItemTexture)(u)),s.set(m.item,(0,n.getItemTexture)(m));let o=new e.Image;o.src=i.SMITHING_TABLE_IMAGE;var f=new e.Canvas(o.width,o.height),l=f.getContext("2d");l.drawImage(o,0,0);let A=new e.Image;A.onload=function(){l.imageSmoothingEnabled=!1,l.drawImage(A,29,46,16,16)},A.src=s.get(u.item);let _=new e.Image;_.onload=function(){l.imageSmoothingEnabled=!1,l.drawImage(_,63,46,16,16)},_.src=s.get(m.item);const g=f.toBuffer();t.output.forEach((e=>{e.includes(".png")||(e+=".png"),console.log("   > Writing to: "+e),c(e,g)}))}async function o(t,r){const a=r["minecraft:recipe_shaped"];let s=new e.Image;s.src=i.RECIPE_GRID_IMAGE;var u=new e.Canvas(s.width,s.height),m=u.getContext("2d");m.drawImage(s,0,0);var o=2,f=2;3!==a.pattern.length&&(f=38),await async function(t){a.pattern.forEach((r=>{const i=r.split("");3!==i.length&&(o=38);for(let r=0;r<i.length;r++)new Promise(((c,s)=>{let u=a.key[`${i[r]}`],m=new e.Image;m.onload=function(){t.imageSmoothingEnabled=!1,t.drawImage(m,o,f,32,32),c()},m.src=(0,n.getItemTexture)(u),m.onerror=s})),o+=36;o=2,f+=36}))}(m);const l=u.toBuffer();t.output.forEach((e=>{e.includes(".png")||(e+=".png"),console.log("   > Writing to: "+e),c(e,l)})),console.log()}}()})()})();